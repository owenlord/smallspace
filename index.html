<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Small Space Cadets</title>
    <meta name="description" content="A-Frame NT Proto">
    <script src="https://aframe.io/releases/0.3.0/aframe.min.js"></script>
    <script src="https://owenwassell.github.io/smallspace/components/set-image.js"></script>
    <script src="https://npmcdn.com/aframe-event-set-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-layout-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-template-component@3.0.1"></script>
    <script src="https://rawgit.com/ngokevin/aframe-animation-component/master/dist/aframe-animation-component.min.js"></script>
    <script src="https://rawgit.com/gmarty/aframe-ui-components/master/dist/aframe-ui-components.min.js"></script>
  </head>
  <body>
    <a-scene>
        <a-assets>
            <!-- panoramas -->
            <img id="sceneOne" crossorigin="anonymous" src="https://owenwassell.github.io/smallspace/images/curiosity-b.jpg">
            <img id="sceneTwo" crossorigin="anonymous" src="https://owenwassell.github.io/smallspace/images/curiosity-a.jpg">

            <!-- sound -->
            <audio id="ambient" crossorigin="anonymous" src="https://garethwilliams.github.io/vrassets/protos/360-church/sound/ambient.mp3"></audio>

            <!-- Image link template to be reused. -->
        <!-- <script id="link" type="text/nunjucks">
          <a-plane class="link" height="1" width="1"
            material="shader: flat; src: {{ thumb }}"
            event-set__1="_event: mousedown; scale: 1 1 1"
            event-set__2="_event: mouseup; scale: 1.2 1.2 1"
            event-set__3="_event: mouseenter; scale: 1.2 1.2 1"
            event-set__4="_event: mouseleave; scale: 1 1 1"
            set-image="on: mousedown; target: #image-360; src: {{ src }}"
            sound="on: click; src: #click-sound"
            update-raycaster="#cursor"></a-plane>
        </script> -->

        </a-assets>

        <!-- sceneOne -->
        <a-entity class="scene" id="sceneOneScene" material="opacity: 1">
            <a-animation attribute="material.opacity" begin="fade" duration="9999" to="0"></a-animation>
            <a-sky id="sceneOne360" radius="10" onclick="" src="#sceneOne"></a-sky>
        </a-entity>
        <!-- #sceneOne -->

        <!-- sceneTwo -->
        <a-entity class="scene" id="sceneTwoScene" material="opacity: 0">
            <a-animation attribute="material.opacity" begin="fade" duration="9999" to="1"></a-animation>
            <a-sky id="main360" radius="10" src="#sceneTwo" rotation="0 88 -8.48"></a-sky>
        </a-entity>
        <!-- #sceneTwo -->

        <script type="text/javascript">
            function startExp() {
                document.getElementById('sceneOneScene').emit('fade');
                document.getElementById('sceneTwoScene').setAttribute('visible', 'true');
            }
        </script>

        <a-camera>
            <a-box id="startButtonLink" opacity="0" depth="0.1" height="1" width="1" position="0 0 -5" onmousedown="startExp()"></a-box>
            <a-cursor cursor="fuse:true; fuseTimeout:2000;" cursor-feedback="dur:2000;"></a-cursor>
        </a-camera>



    </a-scene>
  </body>
</html>
